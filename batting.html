<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cricket Stats</title>
<style>
  body {
    font-family: Arial, sans-serif;
    padding: 80px 20px 40px;
    background-color: #f0f0f0;
  }

  nav {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background-color: #333;
    color: #fff;
    display: flex;
    justify-content: space-around;
    align-items: center;
    padding: 1rem 0;
    z-index: 1000;
  }

  nav a {
    color: white;
    text-decoration: none;
    font-weight: bold;
    padding: 0.5rem 1rem;
    white-space: nowrap;
  }

  nav a:hover {
    background-color: #555;
    border-radius: 5px;
  }

  .stats-container {
    max-width: 900px;
    margin: 0 auto;
    background-color: #fff;
    border-radius: 15px;
    padding: 40px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    text-align: center;
  }

  .profile-pic {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid #333;
    margin-bottom: 20px;
  }

  .main-stats {
    display: flex;
    justify-content: center;
    gap: 30px;
    flex-wrap: wrap;
    margin-bottom: 40px;
  }

  .stat-box {
    background-color: #4CAF50;
    color: white;
    padding: 20px;
    border-radius: 10px;
    min-width: 100px;
    text-align: center;
    font-size: 1.2rem;
  }

  table {
    width: 100%;
    border-collapse: collapse;
  }

  th, td {
    padding: 12px;
    border: 1px solid #ddd;
    text-align: center;
  }

  th {
    background-color: #333;
    color: white;
  }

</style>
</head>
<body>

<nav>
  <a href="#about">About Me</a>
  <a href="#journey">The Journey</a>
  <a href="#stats">Stats</a>
  <a href="#trophy">Trophy Cabinet</a>
  <a href="#gallery">Gallery</a>
</nav>

<section id="stats" class="stats-container">
  <img src="https://via.placeholder.com/150" alt="Profile Picture" class="profile-pic">
  
  <div class="main-stats">
    <div class="stat-box" id="runs">Runs: --</div>
    <div class="stat-box" id="avg">AVG: --</div>
    <div class="stat-box" id="sr">SR: --</div>
    <div class="stat-box" id="fifties">50s: --</div>
    <div class="stat-box" id="hundreds">100s: --</div>
  </div>

  <h2>Detailed Stats</h2>
  <table id="stats-table">
    <thead>
      <tr>
        <th>Match</th>
        <th>Runs</th>
        <th>Balls</th>
        <th>Average</th>
        <th>Strike Rate</th>
      </tr>
    </thead>
    <tbody>
      <!-- Data will be populated here from Google Sheet -->
    </tbody>
  </table>
</section>

<script>
  const SHEET_ID = 'YOUR_SHEET_ID';
  const SHEET_NAME = 'Sheet1'; // change if your sheet has a different name
  const url = `https://docs.google.com/spreadsheets/d/$1tpkXWvJbm7BDNppoMXhY8w_h4cAXdIpMZn0JnrzzipU/gviz/tq?sheet=${SHEET_NAME}`;

  fetch(url)
    .then(res => res.text())
    .then(data => {
      // parse the JSON from the returned string
      const jsonData = JSON.parse(data.match(/google\.visualization\.Query\.setResponse\((.*)\)/)[1]);
      const rows = jsonData.table.rows;

      const tbody = document.querySelector('#stats-table tbody');
      let totalRuns = 0;
      let totalBalls = 0;
      let fifties = 0;
      let hundreds = 0;

      rows.forEach(row => {
        const match = row.c[0]?.v || '';
        const runs = row.c[1]?.v || 0;
        const balls = row.c[2]?.v || 0;
        const avg = row.c[3]?.v || 0;
        const sr = row.c[4]?.v || 0;

        totalRuns += runs;
        totalBalls += balls;
        if (runs >= 50 && runs < 100) fifties++;
        if (runs >= 100) hundreds++;

        const tr = document.createElement('tr');
        tr.innerHTML = `<td>${match}</td><td>${runs}</td><td>${balls}</td><td>${avg}</td><td>${sr}</td>`;
        tbody.appendChild(tr);
      });

      // set main stats
      document.getElementById('runs').textContent = `Runs: ${totalRuns}`;
      const avgOverall = (totalBalls ? (totalRuns / rows.length).toFixed(2) : 0);
      document.getElementById('avg').textContent = `AVG: ${avgOverall}`;
      const srOverall = (totalBalls ? (totalRuns / totalBalls * 100).toFixed(2) : 0);
      document.getElementById('sr').textContent = `SR: ${srOverall}`;
      document.getElementById('fifties').textContent = `50s: ${fifties}`;
      document.getElementById('hundreds').textContent = `100s: ${hundreds}`;
    })
    .catch(err => console.log('Error fetching sheet:', err));
</script>

</body>
</html>
